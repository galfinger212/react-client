(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},118:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(74),s=n.n(a),i=n(29),o=n(5),l=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,token:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,token:t.payload.token,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,token:null,isFetching:!1,error:!0};case"LOGOUT":return{user:null,token:null,isFetching:!1,error:!1};default:return e}},u=n(0),d={user:JSON.parse(localStorage.getItem("user"))||null,token:localStorage.getItem("token")||null,isFetching:!1,error:!1},j=Object(c.createContext)(d),h=function(e){var t=e.children,n=Object(c.useReducer)(l,d),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a.user))}),[a.user]),Object(c.useEffect)((function(){localStorage.setItem("token",a.token)}),[a.token]),Object(u.jsx)(j.Provider,{value:{user:a.user,token:a.token,isFetching:a.isFetching,error:a.error,dispatch:s},children:t})},b=(n(86),n(4)),m=n.n(b),f=n(6),p=(n(88),n(8)),O=n(9),v=n.n(O),x={socket:"https://apiservergalfinger.azurewebsites.net",url:"https://apiservergalfinger.azurewebsites.net/api"},g=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"LOGIN_START"}),e.prev=1,e.next=4,v.a.post(x.url+"/auth/login",t);case 4:c=e.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),window.location.reload(),e.next=21;break;case 9:e.prev=9,e.t0=e.catch(1),e.t1=e.t0.response.status,e.next=400===e.t1?14:404===e.t1?16:18;break;case 14:case 16:return alert(e.t0.response.data.message),e.abrupt("break",20);case 18:return alert(e.t0),e.abrupt("break",20);case 20:n({type:"LOGIN_FAILURE",payload:e.t0});case 21:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT"}),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=(n(106),function(){return Object(u.jsx)("div",{className:"body",children:Object(u.jsx)("h1",{className:"title",children:"Welcome to chat app!"})})}),y=(n(107),n(176)),N=n(177),I=(n(48),n(108),n(109),function(e){return Object(u.jsx)("div",{"data-testid":"LineDiv",className:"Line ".concat(e.className),justify:e.justify,children:e.children})}),S=function(e){return Object(u.jsx)("div",{"data-testid":"IconDiv",className:"Icon",children:Object(u.jsx)("i",{"data-testid":"IconImageDiv",className:"".concat(e.i?"fas fa-".concat(e.i):"")})})},C=(n(110),function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useRef)();Object(c.useEffect)((function(){return window.addEventListener("click",i),function(){window.removeEventListener("click",i)}}),[]);var i=function(e){var t;(null===s||void 0===s||null===(t=s.current)||void 0===t?void 0:t.contains(null===e||void 0===e?void 0:e.target))||a(!1)};return Object(u.jsxs)("div",{"data-testid":"menuDiv",className:"menu ".concat(e.className),ref:s,children:[Object(u.jsx)("div",{"data-testid":"menuHeaderDiv",className:"header",onClick:function(){a(!r)},children:Object(u.jsxs)(I,{children:[Object(u.jsx)("span",{"data-testid":"menuTitleSpan",className:"logo",children:e.title?e.title:""}),Object(u.jsx)(S,{i:r?e.open:e.close})]})}),function(){if(r&&e.children)return Object(u.jsx)("div",{"data-testid":"menuList",className:"list",children:e.children?e.children.map((function(t){return Object(u.jsx)("div",{className:!1===t.props.enabled?"disabled":"",onClick:!1!==t.props.enabled?function(){!function(t){e.onChange&&(e.onChange(t),t.props.to&&i())}(t)}:null,children:t},t.key)})):"aaaaa"})}()]})}),B=function(e){var t=e.initUser,n=e.initHistory,r=Object(c.useRef)("/"),a=Object(c.useRef)(t),s=Object(c.useRef)(n),o=function(e){var t;e.props.className&&(t=e.props.to,s.current.push(t),r.current=t)};return Object(u.jsxs)("div",{"data-testid":"topbarContainer",className:"topbarContainer",children:[Object(u.jsx)("div",{"data-testid":"topbarLeft",className:"topbarLeft",children:Object(u.jsxs)(I,{justify:"between",children:[Object(u.jsx)(I,{children:Object(u.jsxs)(C,{title:"Sela TalkBack",open:"chevron-up",close:"chevron-down",onChange:o,children:[Object(u.jsx)(I,{enabled:!!a.current,to:"/",className:"submenu",children:"Home"},"1"),Object(u.jsx)(I,{to:a.current?"/signOut":"/login",className:"submenu",children:a.current?"Sign Out":Object(u.jsx)("span",{className:"topbarLink",children:"Log in"})},"2"),Object(u.jsxs)(I,{className:"submenu",children:["Actions",Object(u.jsxs)(C,{className:"menu2",open:"chevron-left",close:"chevron-right",onChange:o,children:[Object(u.jsx)(I,{enabled:!!a.current,to:"SendMessage",className:"submenu",children:"Send Message"},"1"),Object(u.jsx)(I,{enabled:!!a.current,to:"Backgammon",className:"submenu",children:"Play Backgammon"},"2")]})]},"3"),Object(u.jsxs)(I,{className:"submenu",children:["Help",Object(u.jsxs)(C,{className:"menu2",open:"chevron-left",close:"chevron-right",onChange:o,children:[Object(u.jsx)(I,{to:"HowToPlay",className:"submenu",children:"How To Play"},"1"),Object(u.jsx)(I,{to:"About",className:"submenu",children:"About"},"2")]})]},"4")]})}),Object(u.jsx)(I,{})]})}),Object(u.jsxs)("div",{"data-testid":"topbarRight",className:"topbarRight",children:[Object(u.jsx)("div",{"data-testid":"topbarLinks",className:"topbarLinks",children:Object(u.jsx)(i.b,{to:"/",style:{textDecoration:"none"},children:Object(u.jsx)("span",{className:"topbarLink",children:"Homepage"})})}),Object(u.jsxs)("div",{"data-testid":"topbarIcons",className:"topbarIcons",children:[Object(u.jsx)("div",{"data-testid":"topbarIconItem",className:"topbarIconItem",children:Object(u.jsx)(y.a,{})}),Object(u.jsx)("div",{"data-testid":"topbarIconItem",className:"topbarIconItem",children:Object(u.jsx)(i.b,{to:"/sendMessage",style:{textDecoration:"none"},children:Object(u.jsx)(N.a,{})})})]})]})]})},T=n(34),P=n(28),_=(n(118),n(119),n(75)),L=n(76),R=(n(150),function(e){var t=e.onlineUsers,n=e.currentId,r=e.onSelectedUser,a=e.initSelectedUser,s=Object(c.useState)([]),i=Object(o.a)(s,2),l=i[0],d=i[1],j=Object(c.useState)(a),h=Object(o.a)(j,2),b=h[0],p=h[1],O="http://localhost:8800/images/";function g(){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x.url+"/users/allUsers").then((function(e){for(var c=[],r=function(r){var a=t[r],s=e.data.find((function(e){return e._id===a.userId&&a.userId!==n}));s&&c.push(s)},a=0;a<t.length;a++)r(a);d(c)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g();case 1:case"end":return e.stop()}}),e)}))),[n]),Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==t.length&&g();case 1:case"end":return e.stop()}}),e)}))),[t]);var w=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=b&&(document.getElementById(b._id).style.background="none"),document.getElementById(t._id).style.background="limegreen",p(t),r(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"chatOnline",children:[Object(u.jsx)("div",{className:"textOnline",children:l.length>0?"Online Users":"No Online Users Right Now"}),l.map((function(e){return Object(u.jsxs)("div",{id:null===e||void 0===e?void 0:e._id,className:"chatOnlineFriend",onClick:function(){return w(e)},children:[Object(u.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(u.jsx)("img",{className:"chatOnlineImg",src:(null===e||void 0===e?void 0:e.profilePicture)?O+e.profilePicture:O+"person/noAvatar.png",alt:""}),Object(u.jsx)("div",{className:"chatOnlineBadge"})]}),Object(u.jsx)("span",{className:"chatOnlineName",children:null===e||void 0===e?void 0:e.username})]},null===e||void 0===e?void 0:e._id)}))]})})}),E=(n(151),function(e){var t=e.onlineUsers,n=e.currentId,r=Object(c.useState)([]),a=Object(o.a)(r,2),s=a[0],i=a[1],l="http://localhost:8800/images/";function d(){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x.url+"/users/allUsers").then((function(e){for(var c=[],r=function(r){var a=e.data[r];t.find((function(e){return e.userId===a._id}))||a._id===n||c.push(a)},a=0;a<e.data.length;a++)r(a);i(c)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d();case 1:case"end":return e.stop()}}),e)}))),[n]),Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==t.length&&d();case 1:case"end":return e.stop()}}),e)}))),[t]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"chatOffline",children:[Object(u.jsx)("div",{className:"textOffline",children:"Offline Users"}),s.map((function(e){return Object(u.jsxs)("div",{className:"chatOfflineFriend",children:[Object(u.jsxs)("div",{className:"chatOfflineImgContainer",children:[Object(u.jsx)("img",{className:"chatOfflineImg",src:(null===e||void 0===e?void 0:e.profilePicture)?l+e.profilePicture:l+"person/noAvatar.png",alt:""}),Object(u.jsx)("div",{className:"chatOfflineBadgeGrey"})]}),Object(u.jsx)("span",{className:"chatOfflineName",children:null===e||void 0===e?void 0:e.username})]},null===e||void 0===e?void 0:e._id)}))]})})}),M=(n(152),n(77)),A=Object(c.forwardRef)((function(e,t){return Object(u.jsxs)("div",{"data-testid":"messageDiv",ref:t,className:e.own?"message sent":"message received",children:[e.message.text,Object(u.jsxs)("span",{"data-testid":"metadataSpan",className:"metadata",children:[Object(u.jsx)("span",{"data-testid":"timeMessageSpan",className:"time",children:Object(M.a)(e.message.createdAt)}),Object(u.jsx)("span",{"data-testid":"tickSpan",className:"tick",children:e.own&&e.seen?Object(u.jsx)("svg",{"data-testid":"blueTick",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15",id:"msg-dblcheck-ack",x:"2063",y:"2076",children:Object(u.jsx)("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4fc3f7"})}):e.own?Object(u.jsx)("svg",{"data-testid":"greyTick",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15",id:"msg-dblcheck-ack",x:"2063",y:"2076",children:Object(u.jsx)("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#aeb9a5"})}):""})]})]})})),U=(n(153),n(154),function(e){return Object(u.jsx)("div",{"data-testid":"divPiece",onClick:e.onClick?function(){return function(e){e.onClick(e)}(e)}:null,className:"Piece ".concat(e.className?e.className:"")},e.pieceKey?e.pieceKey:"")}),F=(n(155),function(e){var t=e.reachLimit,n=e.timeLimit,r=Object(c.useState)(0),a=Object(o.a)(r,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){var e;return e=setInterval((function(){s>n-1&&t(),i((function(e){return e+1}))}),1e3),function(){return clearInterval(e)}}),[s]),Object(u.jsx)("div",{"data-testid":"TimerDiv",className:"app",children:Object(u.jsxs)("div",{"data-testid":"TimerTimeDiv",className:"timerTime",children:[s,"s / ",n,"s"]})})}),D=(n(156),function(e){return Object(u.jsx)("div",{"data-testid":"triangleDiv",onClick:e.onClick?function(){return function(e){e.onClick(e)}(e)}:null,className:"".concat(e.className)})}),G=function(e){var t=e.propsBoard,n=e.currentBoard,r=e.userPlayId,a=e.initSocket,s=e.EndGame,i=Object(c.useRef)(a),l=Object(c.useState)([]),d=Object(o.a)(l,2),j=d[0],h=d[1],b=Object(c.useState)(null),p=Object(o.a)(b,2),O=p[0],v=p[1],x=Object(c.useState)(null),g=Object(o.a)(x,2),k=g[0],w=g[1],y=Object(c.useState)(null),N=Object(o.a)(y,2),I=N[0],S=N[1],C=Object(c.useState)(!1),B=Object(o.a)(C,2),_=B[0],L=B[1],R=Object(c.useState)(null),E=Object(o.a)(R,2),M=E[0],A=E[1],G=Object(c.useState)(null),H=Object(o.a)(G,2),q=H[0],z=H[1],W=Object(c.useState)([]),K=Object(o.a)(W,2),Y=K[0],J=K[1],V=Object(c.useState)(null),Q=Object(o.a)(V,2),X=Q[0],Z=Q[1],$=Object(c.useState)(null),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(null),re=Object(o.a)(ce,2),ae=re[0],se=re[1],ie=Object(c.useState)(null),oe=Object(o.a)(ie,2),le=oe[0],ue=oe[1],de=Object(c.useState)(null),je=Object(o.a)(de,2),he=je[0],be=je[1],me=Object(c.useState)(null),fe=Object(o.a)(me,2),pe=fe[0],Oe=fe[1],ve=Object(c.useState)(null),xe=Object(o.a)(ve,2),ge=xe[0],ke=xe[1];function we(){return ye.apply(this,arguments)}function ye(){return(ye=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){e(j.map((function(e){return{player:e.player,checkers:e.checkers}})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){ue(r),h(t),Z({checkersP1:0,checkersP2:0}),se({checkersP1:0,checkersP2:0}),i.current.on("getCurrentPoints",(function(e){v({sender:e.senderId,currentPoints:e.currentPoints,currentMiddleBar:e.currentMiddleBar,currentOutsideBar:e.currentOutsideBar,createdAt:Date.now()})})),i.current.on("getNextTurn",(function(e){w({sender:e.senderId,createdAt:Date.now()})})),i.current.on("getWin",(function(e){S({sender:e.senderId,createdAt:Date.now()})}));for(var e=0;e<n.members.length;e++){var c=n.members[e];r!==c&&be(c)}r===n.members[0]?(Oe(r),ne(!0)):ne(!1)}),[]),Object(c.useEffect)((function(){null!==O&&(h(O.currentPoints),Z(O.currentMiddleBar),se(O.currentOutsideBar))}),[O]),Object(c.useEffect)((function(){null!==k&&(Oe(le),!0===_&&L(!_))}),[k]),Object(c.useEffect)((function(){null!==I&&(alert("Game over!!! \n You lose..."),s())}),[I]);var Ne=function(e){return e?"black":"white"},Ie=function(e,t,n,c){var r=Object(P.a)(e);if(t[0])if(n&&c.checkersP1>0||!n&&c.checkersP2>0){var a,s=Object(T.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value,o=n?i-1:24-i;(e[o].player===Ne(n)||e[o].checkers<2)&&(r[o].canReceive?r[o].canReceive.push(o):r[o].canReceive=[o])}}catch(f){s.e(f)}finally{s.f()}}else for(var l=Be(e),u=0;u<e.length;u++){if(e[u]&&e[u].player===Ne(n)){var d,j=Object(T.a)(t);try{for(j.s();!(d=j.n()).done;){var h=d.value,b=n?u+h:u-h;b<24&&b>=0&&(e[b].player===Ne(n)||e[b].checkers<2)&&(r[u].canMove?r[u].canMove.push(b):r[u].canMove=[b])}}catch(f){j.e(f)}finally{j.f()}}if(l&&(n&&u>=18||!n&&u<=5)){var m=Ce(e,u,t);m&&(r[u].canBear=m)}}else;return{points:r}},Se=function(e){var t=!1;return e.map((function(e){return(e.canMove||e.canBear||e.canReceive)&&(t=!0),null})),t},Ce=function(e,t,n){var c=!1;if(t>=0&&t<24&&e[t].player===Ne(te)){var r,a=Object(T.a)(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;(te&&t+s===24||!te&&t-s===-1)&&(c=s)}}catch(d){a.e(d)}finally{a.f()}if(!c){var i=Object(P.a)(n).sort().reverse()[0],o=!1;if(te&&t+i>24||!te&&t-i<-1){if(te)for(var l=18;l<t;l++)e[l].player&&e[l].player===Ne(te)&&(o=!0);else for(var u=5;u>t;u--)e[u].player&&e[u].player===Ne(te)&&(o=!0);o||(c=i)}}}return c},Be=function(e){var t=!0;return e.map((function(e,n){return(te&&n<=17&&"black"===e.player||!te&&n>=6&&"white"===e.player)&&(t=!1),null})),t},Te=function(e){ke(e)},Pe=function(e){te?X.checkersP2++:X.checkersP1++,j[e].checkers=0,j[e].player=Ne(te)},_e=function(e){var t=e.column;if(te&&X.checkersP1>0||!te&&X.checkersP2>0){!1!==j[t].player&&j[t].player!==Ne(te)&&j[t].checkers<2?Pe(t):!1===j[t].player&&(j[t].player=Ne(te)),j[t].checkers+=1,te?X.checkersP1-=1:X.checkersP2-=1;var n=Y.indexOf(te?t+1:24-t);n>-1&&(Y.splice(n,1),J(Y))}else if(j[ge.column].canBear&&void 0===t){j[ge.column].checkers-=1,0===j[ge.column].checkers&&(j[ge.column].player=!1),te?ae.checkersP1++:ae.checkersP2++;var c=Y.indexOf(j[ge.column].canBear);c>-1&&(Y.splice(c,1),J(Y))}else{!1===j[t].player&&(j[t].player=ge.color),1===j[t].checkers&&j[t].player!==j[ge.column].player&&Pe(t),1===j[ge.column].checkers&&(j[ge.column].player=!1),j[t].checkers+=1;var r=j[ge.column].canMove.indexOf(t);r>-1&&j[ge.column].canMove.splice(r,1);var a=Math.abs(ge.column-t),o=Y.indexOf(a);o>-1&&(Y.splice(o,1),J(Y)),j[ge.column].checkers-=1}h((function(e){return Object(P.a)(e)})),0===Y.length&&Le(),!1===function(e){var t=!1;return e.map((function(e){return te&&"black"===e.player?t=!0:te||"white"!==e.player||(t=!0),null})),t}(j)&&(te&&0===X.checkersP1||!te&&0===X.checkersP2)?(i.current.emit("sendWin",{senderId:le,receiverId:he}),alert("Game over!!! \n You win!!!"),s()):(we(j).then((function(e){Re(e);var t=Ie(e,Y,te,X).points;!1===Se(t)&&0!==Y.length&&(Le(),alert("You don't have any moves...")),h(t),h(t)})),ke(null))},Le=function(){J([]),Oe(he),i.current.emit("sendNextTurn",{senderId:le,receiverId:he})},Re=function(e){i.current.emit("sendCurrentPoints",{senderId:le,receiverId:he,currentPoints:e,currentMiddleBar:X,currentOutsideBar:ae})},Ee=function(e,t){var n=[];return t>0&&(n.push(Object(u.jsx)(U,{color:e,className:"outsideBar "+e})),t>1&&n.push(Object(u.jsx)("div",{className:"".concat("black"===e?"whiteTextOutBar":"blackTextOutBar"),children:t}))),n},Me=function(e,t){var n=[];return t>0&&(n.push(Object(u.jsx)(U,{color:e,className:"".concat("black"===e?"middleBarBlack":"middleBarWhite"," ")+e})),t>1&&n.push(Object(u.jsx)("div",{className:"".concat("black"===e?"whiteText":"blackText"),children:t}))),n},Ae=function(e){var t,n;return!!(ge&&(null===(t=j[null===ge||void 0===ge?void 0:ge.column].canMove)||void 0===t?void 0:t.includes(e))||(null===(n=j[e])||void 0===n?void 0:n.canReceive))},Ue=function(e,t){for(var n=[],c=0;c<e.checkers;c++){var r="";(c>=0&&c==e.checkers-1||4==c)&&(e.canMove||e.canBear)&&(r="Last"),t>=0&&t<=5?e.checkers>5&&c==e.checkers-1?n.push(Object(u.jsx)("div",{className:"".concat("black"===e.player?"whiteTextBottom":"blackTextBottom"," rightText").concat(t," "),children:e.checkers})):c<5&&n.push(Object(u.jsx)(U,{pieceKey:"c".concat(t,"i").concat(c),color:e.player,column:t,indexInColumn:c,onClick:""!==r?Te:"",className:e.player+" right".concat(t," ").concat(r)+" bottom".concat(c)})):t>=6&&t<=11?e.checkers>5&&c==e.checkers-1?n.push(Object(u.jsx)("div",{className:"".concat("black"===e.player?"whiteTextBottom":"blackTextBottom"," leftText").concat(11-t," "),children:e.checkers})):c<5&&n.push(Object(u.jsx)(U,{pieceKey:"c".concat(t,"i").concat(c),color:e.player,column:t,indexInColumn:c,onClick:""!==r?Te:"",className:e.player+" left".concat(11-t," ").concat(r)+" bottom".concat(c)})):t>=12&&t<=17?e.checkers>5&&c==e.checkers-1?n.push(Object(u.jsx)("div",{className:"".concat("black"===e.player?"whiteTextTop":"blackTextTop"," leftText").concat(t-12),children:e.checkers})):c<5&&n.push(Object(u.jsx)(U,{pieceKey:"c".concat(t,"i").concat(c),color:e.player,column:t,indexInColumn:c,onClick:""!==r?Te:"",className:e.player+" left".concat(t-12," ").concat(r)+" top".concat(c)})):t>=18&&t<=23&&(e.checkers>5&&c==e.checkers-1?n.push(Object(u.jsx)("div",{className:"".concat("black"===e.player?"whiteTextTop":"blackTextTop"," rightText").concat(23-t," "),children:e.checkers})):c<5&&n.push(Object(u.jsx)(U,{pieceKey:"c".concat(t,"i").concat(c),color:e.player,column:t,indexInColumn:c,onClick:""!==r?Te:"",className:e.player+" right".concat(23-t," ").concat(r)+" top".concat(c)})))}return n};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"topPage",children:[pe===le?Object(u.jsx)(F,{timeLimit:60,reachLimit:function(){we(j).then((function(e){ke(null),h(e),alert("Time is over!!!"),Le()}))}}):"",Object(u.jsxs)("div",{className:"outSideBar",children:[Object(u.jsx)("h1",{className:"currentTurn",children:"".concat(pe===le?"Its your":"Wait for your"," turn!")}),Object(u.jsx)("img",{src:"/Images/homeBoard.png"}),ae?Ee("white",ae.checkersP2):"",ae?Ee("black",ae.checkersP1):"",ge&&j[ge.column].canBear?Object(u.jsx)("button",{className:"bearoffBtn",onClick:_e,children:"Bear Off"}):""]})]}),Object(u.jsxs)("div",{className:"board",children:[le===pe?Object(u.jsxs)("div",{id:"wrapper",children:[Object(u.jsx)("img",{className:"dice",src:Y.length?""+"/Images/".concat(M,".png"):""}),Object(u.jsx)("img",{className:"dice",src:Y.length?""+"/Images/".concat(q,".png"):""}),!1===_?Object(u.jsx)("button",{className:"btnRoll",onClick:function(){function e(){return(e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var t=document.getElementsByClassName("dice"),n=0;n<t.length;n++){t[n].classList.add("shake")}setTimeout((function(){for(var e=0;e<t.length;e++){t[e].classList.remove("shake")}}),300);var c=Math.floor(6*Math.random())+1,r=Math.floor(6*Math.random())+1;A(c),z(r),e(c===r?[c,c,c,c]:[c,r])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){J(e),we(j).then((function(t){L(!_);var n=Ie(t,e,te,X).points;!1===Se(n)&&(Le(),alert("You don't have any moves...")),h(n)}))}))},children:"ROLL"}):""]}):"",Object(u.jsxs)("div",{className:"left-bin",children:[Object(u.jsxs)("div",{className:"top-row",children:[Object(u.jsx)(D,{column:12,onClick:Ae(12)?_e:function(){return""},className:"arrow-down odd ".concat(Ae(12)?"triangle":"")}),Object(u.jsx)(D,{column:13,onClick:Ae(13)?_e:function(){return""},className:"arrow-down even ".concat(Ae(13)?"triangle":"")}),Object(u.jsx)(D,{column:14,onClick:Ae(14)?_e:function(){return""},className:"arrow-down odd ".concat(Ae(14)?"triangle":"")}),Object(u.jsx)(D,{column:15,onClick:Ae(15)?_e:function(){return""},className:"arrow-down even ".concat(Ae(15)?"triangle":"")}),Object(u.jsx)(D,{column:16,onClick:Ae(16)?_e:function(){return""},className:"arrow-down odd ".concat(Ae(16)?"triangle":"")}),Object(u.jsx)(D,{column:17,onClick:Ae(17)?_e:function(){return""},className:"arrow-down even ".concat(Ae(17)?"triangle":"")})]}),Object(u.jsxs)("div",{className:"bottom-row",children:[Object(u.jsx)(D,{column:11,onClick:Ae(11)?_e:function(){return""},className:"arrow-up odd ".concat(Ae(11)?"triangle":"")}),Object(u.jsx)(D,{column:10,onClick:Ae(10)?_e:function(){return""},className:"arrow-up even ".concat(Ae(10)?"triangle":"")}),Object(u.jsx)(D,{column:9,onClick:Ae(9)?_e:function(){return""},className:"arrow-up odd ".concat(Ae(9)?"triangle":"")}),Object(u.jsx)(D,{column:8,onClick:Ae(8)?_e:function(){return""},className:"arrow-up even ".concat(Ae(8)?"triangle":"")}),Object(u.jsx)(D,{column:7,onClick:Ae(7)?_e:function(){return""},className:"arrow-up odd ".concat(Ae(7)?"triangle":"")}),Object(u.jsx)(D,{column:6,onClick:Ae(6)?_e:function(){return""},className:"arrow-up even ".concat(Ae(6)?"triangle":"")})]})]}),Object(u.jsx)("div",{className:"middle-bar"}),Object(u.jsxs)("div",{className:"right-bin",children:[Object(u.jsxs)("div",{className:"top-row",children:[Object(u.jsx)(D,{column:18,onClick:Ae(18)?_e:function(){return""},className:"arrow-down odd ".concat(Ae(18)?"triangle":"")}),Object(u.jsx)(D,{column:19,onClick:Ae(19)?_e:function(){return""},className:"arrow-down even ".concat(Ae(19)?"triangle":"")}),Object(u.jsx)(D,{column:20,onClick:Ae(20)?_e:function(){return""},className:"arrow-down odd ".concat(Ae(20)?"triangle":"")}),Object(u.jsx)(D,{column:21,onClick:Ae(21)?_e:function(){return""},className:"arrow-down even ".concat(Ae(21)?"triangle":"")}),Object(u.jsx)(D,{column:22,onClick:Ae(22)?_e:function(){return""},className:"arrow-down odd ".concat(Ae(22)?"triangle":"")}),Object(u.jsx)(D,{column:23,onClick:Ae(23)?_e:function(){return""},className:"arrow-down even ".concat(Ae(23)?"triangle":"")})]}),Object(u.jsxs)("div",{className:"bottom-row",children:[Object(u.jsx)(D,{column:5,onClick:Ae(5)?_e:function(){return""},className:"arrow-up odd ".concat(Ae(5)?"triangle":"")}),Object(u.jsx)(D,{column:4,onClick:Ae(4)?_e:function(){return""},className:"arrow-up even ".concat(Ae(4)?"triangle":"")}),Object(u.jsx)(D,{column:3,onClick:Ae(3)?_e:function(){return""},className:"arrow-up odd ".concat(Ae(3)?"triangle":"")}),Object(u.jsx)(D,{column:2,onClick:Ae(2)?_e:function(){return""},className:"arrow-up even ".concat(Ae(2)?"triangle":"")}),Object(u.jsx)(D,{column:1,onClick:Ae(1)?_e:function(){return""},className:"arrow-up odd ".concat(Ae(1)?"triangle":"")}),Object(u.jsx)(D,{column:0,onClick:Ae(0)?_e:function(){return""},className:"arrow-up even ".concat(Ae(0)?"triangle":"")})]})]}),j.map((function(e,t){return Object(u.jsx)(u.Fragment,{children:Ue(e,t)})})),Object(u.jsxs)(u.Fragment,{children:[X?Me("white",X.checkersP2):"",X?Me("black",X.checkersP1):""]})]})]})},H=(n(157),function(e){var t=e.userId,n=e.sender,r=e.typing,a="http://localhost:8800/images/",s=Object(c.useState)(null),i=Object(o.a)(s,2),l=i[0],d=i[1];return Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x.url+"/users/",{params:{userId:t}}).then((function(e){d(e.data.username)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(u.jsxs)("div",{"data-testid":"user-bar",className:"user-bar",children:[Object(u.jsx)("div",{"data-testid":"avatar",className:"avatar",children:Object(u.jsx)("img",{src:(null===n||void 0===n?void 0:n.profilePicture)?a+n.profilePicture:a+"person/noAvatar.png",alt:""})}),Object(u.jsxs)("div",{"data-testid":"username",className:"name",children:[Object(u.jsx)("span",{"data-testid":"spanUserName",children:l}),r?Object(u.jsx)("span",{"data-testid":"typingSpan",className:"status",children:"typing..."}):""]})]})}),q=Array(24).fill({player:!1,checkers:0}),z=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(o.a)(a,2),i=s[0],l=s[1],d=Object(c.useState)(!1),h=Object(o.a)(d,2),b=h[0],p=h[1],O=Object(c.useState)(null),g=Object(o.a)(O,2),k=g[0],w=g[1],y=Object(c.useState)([]),N=Object(o.a)(y,2),I=N[0],S=N[1],C=Object(c.useState)(""),B=Object(o.a)(C,2),M=B[0],U=B[1],F=Object(c.useState)(null),D=Object(o.a)(F,2),z=D[0],W=D[1],K=Object(c.useState)(null),Y=Object(o.a)(K,2),J=Y[0],V=Y[1],Q=Object(c.useState)(null),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=Object(c.useState)(null),te=Object(o.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)(null),ae=Object(o.a)(re,2),se=ae[0],ie=ae[1],oe=Object(c.useState)(null),le=Object(o.a)(oe,2),ue=le[0],de=le[1],je=Object(c.useRef)(),he=Object(c.useRef)(),be=Object(c.useContext)(j).user,me=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je.current.emit("sendGameRequest",{senderId:be._id,receiverId:ue._id});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x.url+"/conversations/find/".concat(be._id,"/").concat(ue._id)).then((function(e){l(e.data)})).catch(function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(404!==t.response.status){e.next=3;break}return e.next=3,v.a.post(x.url+"/conversations",{senderId:be._id,receiverId:ue._id}).then((function(e){l(e.data)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){je.current=Object(_.io)(x.socket),je.current.on("getMessage",(function(e){ie({sender:e.senderId,text:e.text,messageId:e.messageId,createdAt:Date.now()})})),je.current.on("getGameRequest",(function(e){W({sender:e.senderId,currentBoard:e.currentBoard,createdAt:Date.now()})})),je.current.on("approveGameRequest",(function(e){ce({sender:e.senderId,currentBoard:e.currentBoard,createdAt:Date.now()})})),je.current.on("getSeen",(function(e){V({sender:e.senderId,conversation:e.conversation,createdAt:Date.now()})})),je.current.on("getTyping",(function(e){$({sender:e.senderId,typing:e.typing,createdAt:Date.now()})})),q[18]={player:"black",checkers:5},q[5]={player:"white",checkers:5}}),[]);function pe(e,t){var n=Object(P.a)(document.querySelectorAll("input, textarea, select")).filter((function(e){return!e.disabled})),c=document.getElementById("modal"),r=c.children[0].children;function a(t){var a,s=Object(T.a)(n);try{for(s.s();!(a=s.n()).done;){a.value.disabled=t}}catch(i){s.e(i)}finally{s.f()}c.style.display=t?"block":"none",r[0].textContent=t?e:""}return new Promise((function(e){a(!0),r[1].onclick=function(){return e(!0)},r[2].onclick=function(){return e(!1)},setTimeout(e,t)})).then((function(e){return a(!1),e}))}Object(c.useEffect)((function(){null!=ne&&(null!=ne.currentBoard?(w(ne.currentBoard),l(null),de(null)):alert("its seems that he don't want to chat with you..."))}),[ne]),Object(c.useEffect)((function(){null!=z&&function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x.url+"/users/",{params:{userId:z.sender}}).then((function(e){return pe("You Have a new Game Request from ".concat(e.data.username,"..."),5e3).then(function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,v.a.post(x.url+"/board",{senderId:be._id,receiverId:z.sender,currentBoard:q}).then((function(e){w(e.data),l(null),de(null),je.current.emit("sendGameApproveRequest",{senderId:be._id,receiverId:z.sender,currentBoard:e.data})})).catch((function(e){console.log(e)}));case 3:e.next=6;break;case 5:je.current.emit("sendGameApproveRequest",{senderId:be._id,receiverId:z.sender,currentBoard:null});case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[z]),Object(c.useEffect)((function(){je.current.emit("addUser",be._id),je.current.on("getUsers",(function(e){r(e)}))}),[be]),Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!se||!(null===i||void 0===i?void 0:i.members.includes(se.sender))){e.next=6;break}return S((function(e){return[].concat(Object(P.a)(e),[se])})),e.next=4,v.a.put(x.url+"/messages/"+se.messageId).catch((function(e){console.log(e)}));case 4:return e.next=6,v.a.get(x.url+"/conversations/find/".concat(be._id,"/").concat(se.sender)).then((function(e){je.current.emit("sendSeen",{senderId:be._id,receiverId:se.sender,conversation:e.data})})).catch((function(e){404===e.response.status?console.log("conversation not found"):console.log(e)}));case 6:case"end":return e.stop()}}),e)}))),[se]),Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==J&&l(J.conversation);case 1:case"end":return e.stop()}}),e)}))),[J]),Object(c.useEffect)((function(){i&&function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get(x.url+"/messages/"+(null===i||void 0===i?void 0:i._id)).then(function(){var e=Object(f.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m.a.mark((function e(n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=t.data[n]).sender===be._id){e.next=8;break}if(!1!==c.seen){e.next=7;break}return e.next=5,v.a.put(x.url+"/messages/"+c._id).then(function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(x.url+"/conversations/find/".concat(t.data.updateModel.conversationId)).then((function(e){je.current.emit("sendSeen",{senderId:be._id,receiverId:c.sender,conversation:e.data})})).catch((function(e){404===e.response.status?console.log("conversation not found"):console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 5:e.next=8;break;case 7:return e.abrupt("return","break");case 8:case"end":return e.stop()}}),e)})),c=t.data.length-1;case 2:if(!(c>=0)){e.next=10;break}return e.delegateYield(n(c),"t0",4);case 4:if("break"!==e.t0){e.next=7;break}return e.abrupt("break",10);case 7:c--,e.next=2;break;case 10:S(t.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[i]),Object(c.useEffect)((function(){if(i){var e=i.members.find((function(e){return e!==be._id}));0===M.length&&je.current.emit("sendTyping",{senderId:be._id,receiverId:e,typing:!1}),M.length>0&&je.current.emit("sendTyping",{senderId:be._id,receiverId:e,typing:!0})}}),[M]),Object(c.useEffect)((function(){var e;null===(e=he.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[I]);var Oe=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={sender:be._id,text:M,seen:!1,conversationId:i._id},c=i.members.find((function(e){return e!==be._id})),e.prev=3,e.next=6,v.a.post(x.url+"/messages",n).then((function(e){var t=e.data._id;je.current.emit("sendMessage",{senderId:be._id,receiverId:c,messageId:t,text:M}),S([].concat(Object(P.a)(I),[e.data])),U("")})).catch((function(e){console.log(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"messenger",children:[Object(u.jsx)("div",{id:"modal",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{}),Object(u.jsx)("button",{children:"OK"}),Object(u.jsx)("button",{children:"Cancel"})]})}),Object(u.jsxs)("div",{className:"leftList",children:[Object(u.jsxs)("div",{className:"topName",children:[Object(u.jsxs)("div",{className:"username",children:[Object(u.jsx)("div",{children:"Hello"}),Object(u.jsx)("span",{children:null===be||void 0===be?void 0:be.username})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"Button",onClick:fe,disabled:null===ue,children:Object(u.jsx)("img",{className:"Button",src:"images/chatbtn.png"})}),Object(u.jsx)("button",{onClick:me,disabled:null===ue,children:Object(u.jsx)("img",{className:"Button",src:"images/backgammon.png"})})]})]}),0!==n.length?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"chatOnlineWrapper",children:[Object(u.jsx)(R,{initSelectedUser:ue,onlineUsers:n,currentId:be._id,onSelectedUser:function(e){de(e)}}),Object(u.jsx)(E,{onlineUsers:n,currentId:be._id})]})}):Object(u.jsx)("div",{className:"connect",children:"Find Online Users..."})]}),Object(u.jsx)("div",{children:k?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(G,{EndGame:function(){w(null),de(null)},initSocket:je.current,userPlayId:be._id,currentBoard:k,propsBoard:q})}):""}),i?Object(u.jsx)("div",{className:"chat",children:Object(u.jsxs)("div",{className:"chat-container",children:[Object(u.jsx)(H,{typing:!(!Z||i.members.find((function(e){return e!==be._id}))!==Z.sender)&&Z.typing,sender:be,userId:ue._id}),Object(u.jsxs)("div",{className:"conversation",children:[Object(u.jsxs)("div",{className:"conversation-container",children:[Object(u.jsx)(u.Fragment,{children:I.map((function(e,t){return Object(u.jsx)(A,{seen:e.seen,ref:he,message:e,own:e.sender===be._id},t)}))}),b?Object(u.jsx)("div",{className:"emojiPickerDiv",children:Object(u.jsx)(L.a,{emoji:"grinning",title:"Choose color",onSelect:function(e){var t=e.native;U(M+t)}})}):""]}),Object(u.jsxs)("div",{className:"conversation-compose",children:[Object(u.jsx)("div",{className:"emoji",children:Object(u.jsx)("svg",{className:"emojiPicker",onClick:function(){p(!b)},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",id:"smiley",x:"3147",y:"3209",children:Object(u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.153 11.603c.795 0 1.44-.88 1.44-1.962s-.645-1.96-1.44-1.96c-.795 0-1.44.88-1.44 1.96s.645 1.965 1.44 1.965zM5.95 12.965c-.027-.307-.132 5.218 6.062 5.55 6.066-.25 6.066-5.55 6.066-5.55-6.078 1.416-12.13 0-12.13 0zm11.362 1.108s-.67 1.96-5.05 1.96c-3.506 0-5.39-1.165-5.608-1.96 0 0 5.912 1.055 10.658 0zM11.804 1.01C5.61 1.01.978 6.034.978 12.23s4.826 10.76 11.02 10.76S23.02 18.424 23.02 12.23c0-6.197-5.02-11.22-11.216-11.22zM12 21.355c-5.273 0-9.38-3.886-9.38-9.16 0-5.272 3.94-9.547 9.214-9.547a9.548 9.548 0 0 1 9.548 9.548c0 5.272-4.11 9.16-9.382 9.16zm3.108-9.75c.795 0 1.44-.88 1.44-1.963s-.645-1.96-1.44-1.96c-.795 0-1.44.878-1.44 1.96s.645 1.963 1.44 1.963z",fill:"#7d8489"})})}),Object(u.jsx)("input",{className:"input-msg",id:"inputMessage",name:"input",placeholder:"Type a message",autoComplete:"off",autoFocus:!0,onChange:function(e){return U(e.target.value)},value:M}),Object(u.jsx)("div",{className:"photo",children:Object(u.jsx)("i",{className:"zmdi zmdi-camera"})}),Object(u.jsx)("button",{className:"send",onClick:Oe,children:Object(u.jsx)("div",{className:"circle",children:"Send"})})]})]})]})}):""]})})},W=(n(158),function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useContext)(j),r=n.isFetching,a=n.dispatch,s=Object(p.g)();return Object(u.jsxs)("form",{id:"loginform",onSubmit:function(n){n.preventDefault(),g({username:e.current.value,password:t.current.value},a)},children:[Object(u.jsx)("h2",{id:"headerTitle",children:"Login Page"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:"UserName"}),Object(u.jsx)("input",{placeholder:"Username",type:"text",required:!0,ref:e})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{placeholder:"Password",type:"password",required:!0,minLength:"6",ref:t})]}),Object(u.jsx)("div",{id:"button",className:"row",children:Object(u.jsx)("button",{type:"submit",disabled:r,children:"Log In"})}),Object(u.jsx)("div",{className:"ForgotPassword ",children:"Forgot Password / Not a member ?"}),Object(u.jsx)("div",{id:"button",className:"row",children:Object(u.jsx)("button",{className:"loginRegisterButton",onClick:function(){s.push("register")},children:"Create a New Account"})})]})}),K=(n(159),function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(p.g)(),s=function(){var c=Object(f.a)(m.a.mark((function c(s){var i;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(console.log("here"),s.preventDefault(),r.current.value===n.current.value){c.next=6;break}r.current.setCustomValidity("Passwords don't match!"),c.next=23;break;case 6:return i={username:e.current.value,email:t.current.value,password:n.current.value},c.prev=7,c.next=10,v.a.post(x.url+"/auth/register",i).then((function(e){a.push("/login")}));case 10:c.next=23;break;case 12:c.prev=12,c.t0=c.catch(7),console.log(c.t0),c.t1=c.t0.response.status,c.next=409===c.t1?18:500===c.t1?20:22;break;case 18:return alert(c.t0.response.data),c.abrupt("break",23);case 20:return console.log(c.t0),c.abrupt("break",23);case 22:return c.abrupt("break",23);case 23:case"end":return c.stop()}}),c,null,[[7,12]])})));return function(e){return c.apply(this,arguments)}}();return Object(u.jsxs)("form",{id:"loginform",onSubmit:s,children:[Object(u.jsx)("h2",{id:"headerTitle",children:"Registration Page"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{placeholder:"Username",required:!0,ref:e})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{placeholder:"Email",required:!0,ref:t,type:"email"})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{placeholder:"Password",required:!0,ref:n,type:"password",minLength:"6"})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:"Password Again"}),Object(u.jsx)("input",{placeholder:"Password Again",required:!0,ref:r,type:"password"})]}),Object(u.jsx)("div",{id:"button",className:"row",children:Object(u.jsx)("button",{type:"submit",children:"Sign Up"})}),Object(u.jsx)("div",{id:"button",className:"row",children:Object(u.jsx)("button",{className:"loginRegisterButton",onClick:function(){a.push("login")},children:"Log into Account"})})]})}),Y=(n(160),function(e){var t=e.initHistory,n=Object(c.useRef)(t),r=Object(c.useRef)("/"),a=Object(c.useContext)(j).dispatch;return Object(c.useEffect)((function(){window.confirm("Are you sure you want to logOut?")?k(a):(n.current.push("/"),r.current="/")}),[]),Object(u.jsx)("div",{})}),J=(n(161),function(){return Object(u.jsx)("div",{className:"about-section paddingTB60 gray-bg",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-7 col-sm-6",children:Object(u.jsxs)("div",{className:"about-title clearfix",children:[Object(u.jsxs)("h1",{children:["How to play ",Object(u.jsx)("span",{children:"Backgammon"})]}),Object(u.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Eaa7KrIc4ys",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(u.jsx)("h4",{children:"Needed"}),Object(u.jsx)("div",{children:"Two players, backgammon board, 15 checkers per player, two dice per player"}),Object(u.jsx)("h4",{children:"Terminology"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Checker - game pieces that are moved around the board."}),Object(u.jsx)("li",{children:"Point - a space on the board. The board is made up of 24 points."}),Object(u.jsx)("li",{children:"Middle Bar - the bar in the middle of the game board."}),Object(u.jsx)("li",{children:"Home Board - The six points on the bottom right of the playing board for each player."})]}),Object(u.jsx)("h4",{children:"Setup"}),Object(u.jsx)("p",{children:"Players will sit across from each other. One player will move his/her checkers clockwise, and the other player will move his/her checkers counterclockwise. Put five checkers on the 6-point, three checkers on the 8-point, five checkers on the 13-point, and two checkers on the 24-point. Your opponent will set up his/her checkers to mirror your checkers."}),Object(u.jsx)("h4",{children:"Objective"}),Object(u.jsx)("p",{children:"The object of Backgammon is to move your checkers around the board by rolling dice. The number rolled equals the number of points a checker can move. First, move all your checkers to your home board. Second, move all your checkers off the board."}),Object(u.jsx)("h4",{children:"Game Play"}),Object(u.jsx)("p",{children:"The game begins with each player rolling one die. The player with the higher number rolled gets to use both dice for the first move. Each dice is moved separately and can be moved forward to any point that is not blocked. When your opponent has two or more checkers on a point, that point is blocked. If the point has your own checkers, no checkers, or only one opponent checker, the point is open. When both dice are rolled with the same number, the player will move double. For example, if double threes are rolled, the player will move three points four times. When a player moves a checker onto a point that only has one opponent checker, the opponent\u2019s checker is placed on the middle bar. Any checker on the middle bar has to be returned into play before making any other moves. A checker returns to the board on your farthest point. (i.e., the 24th point)."}),Object(u.jsx)("h4",{children:"Win"}),Object(u.jsx)("p",{children:"Once a player\u2019s checkers are all within his/her home board, he/she can begin removing checkers off the board. The first player to remove all of his/her checkers from the board wins the game."}),Object(u.jsx)("h4",{children:"Rules"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"If a higher number is rolled than you have while removing checkers from the board, the farthest checker is to be removed."}),Object(u.jsx)("li",{children:"If a player is unable to make a legal move with one or both dice, the roll is forfeited."}),Object(u.jsx)("li",{children:"If a player has no checkers off the board when his opponent has removed all of his checkers, it is known as a Gammon and is worth a double game."}),Object(u.jsx)("li",{children:"If a player still has a checker in his opponent\u2019s home board or on the bar and his opponent has removed all of his checkers, it is known as a backgammon and is worth a triple game."})]})]})})})})})}),V=(n(162),function(){return Object(u.jsx)("div",{className:"about-section paddingTB60 gray-bg ",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-7 col-sm-6",children:Object(u.jsxs)("div",{className:"about-title clearfix",children:[Object(u.jsxs)("h1",{children:["About ",Object(u.jsx)("span",{children:"TalkBack"})]}),Object(u.jsx)("h3",{children:"TalkBack is a online chat WebSite "}),Object(u.jsx)("p",{className:"about-paddingB",children:"In TalkBack you can chat with other users easily!"}),Object(u.jsx)("p",{children:"In addition, you can also play against them a backgammon online!!!"})]})})})})})}),Q=function(){var e=Object(p.g)(),t=Object(c.useContext)(j).user,n=Object(c.useContext)(j).dispatch;return Object(c.useEffect)(Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,v.a.get(x.url+"/auth/isUserAuth",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){!1===e.data.auth&&(alert("your token is expired"),k(n))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(B,{initHistory:e,initUser:t}),Object(u.jsxs)(p.d,{children:[Object(u.jsx)(p.b,{exact:!0,path:"/",children:t?Object(u.jsx)(w,{}):Object(u.jsx)(K,{})}),Object(u.jsx)(p.b,{path:"/signOut",children:t?Object(u.jsx)(Y,{initHistory:e}):Object(u.jsx)(p.a,{to:"/SendMessage"})}),Object(u.jsx)(p.b,{path:"/login",children:t?Object(u.jsx)(p.a,{to:"/SendMessage"}):Object(u.jsx)(W,{})}),Object(u.jsx)(p.b,{path:"/register",children:t?Object(u.jsx)(p.a,{to:"/"}):Object(u.jsx)(K,{})}),Object(u.jsx)(p.b,{path:"/SendMessage",children:t?Object(u.jsx)(z,{}):Object(u.jsx)(p.a,{to:"/login"})}),Object(u.jsx)(p.b,{path:"/Backgammon",children:t?Object(u.jsx)(z,{}):Object(u.jsx)(p.a,{to:"/login"})}),Object(u.jsx)(p.b,{path:"/HowToPlay",component:J}),Object(u.jsx)(p.b,{path:"/About",component:V})]})]})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(h,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(Q,{})})})}),document.getElementById("root"))},86:function(e,t,n){},88:function(e,t,n){}},[[163,1,2]]]);
//# sourceMappingURL=main.8e91bb1f.chunk.js.map